<%- include('header') %>

<main class="pt-24 px-6 max-w-5xl mx-auto">
  <h2 class="text-3xl font-bold text-gray-800 text-gray-100 mb-10 text-center tracking-tight">
    Search Results for "<%= query %>"
  </h2>

  <% if (!courses || courses.length === 0) { %>
    <p class="text-lg">No courses found matching your search.</p>
  <% } else { %>
    <ul class="space-y-6">
      <% courses.forEach(course => { %>
        <li class="p-6 bg-white dark:bg-gray-800 shadow-md border border-gray-200 dark:border-gray-700 rounded-xl hover:shadow-lg transition-shadow duration-300">
          <h3 class="text-2xl font-semibold text-indigo-700 dark:text-indigo-400 mb-2">
            <%= course.coursename %>
          </h3>
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            Educator: <span class="font-medium"><%= course.User.firstname %> <%= course.User.lastname %></span>
          </p>

          <% if (user.role === 'student') { %>
            <a href="/student/courses/<%= course.id %>/chapters"
               class="inline-block px-5 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg transition duration-200 shadow-sm">
              View Course
            </a>
          <% } else if (user.role === 'educator') { %>
            <a href="/courses/<%= course.id %>/chapters"
               class="inline-block px-5 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition duration-200 shadow-sm">
              View Course
            </a>
          <% } %>
        </li>
      <% }) %>
    </ul>
  <% } %>
</main>
