<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white p-8 font-sans">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">Welcome <%= user.firstname %> <%= user.lastname %>!</h1>
    <div class="space-x-2">
      <button onclick="window.location.href='/logout'" class="bg-red-600 text-white px-4 py-1 rounded shadow hover:bg-red-700">
        Sign Out
      </button>
      <button onclick="window.location.href='/changepassword/<%= user.id %>'" class="bg-yellow-500 text-white px-4 py-1 rounded shadow hover:bg-yellow-600">
        Change Password
      </button>
    </div>
  </div>

  <!-- My Courses Section -->
  <h2 class="text-xl font-semibold mb-4 text-center">My Courses</h2>
  <% if (courses.length === 0) { %>
    <p class="text-center text-gray-500">You are not enrolled in any courses.</p>
  <% } else { %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <% courses.forEach(course => { %>
        <div class="p-4 border rounded shadow hover:shadow-md transition">
          <h3 class="text-lg font-bold mb-2"><%= course.name %></h3>
          <p class="text-sm text-gray-600 mb-4">Educator: <%= course.educatorName %></p>
          <a href="/course/<%= course.id %>" class="text-blue-600 hover:underline">Go to Course</a>
        </div>
      <% }); %>
    </div>
  <% } %>

  <hr class="my-8">

  <!-- Available Courses Section -->
  <h2 class="text-xl font-semibold mb-4 text-center">Available Courses</h2>
  <% if (availableCourses.length === 0) { %>
    <p class="text-center text-gray-500">No courses available to enroll.</p>
  <% } else { %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <% availableCourses.forEach(course => { %>
        <div class="p-4 border rounded shadow hover:shadow-md transition">
          <h3 class="text-lg font-bold mb-2"><%= course.name %></h3>
          <p class="text-sm text-gray-600 mb-4">Educator: <%= course.educatorName %></p>
          <form action="/courses/<%= course.id %>/enroll" method="POST">
            <button type="submit" class="bg-green-600 text-white px-4 py-1 rounded hover:bg-green-700">
              Enroll
            </button>
          </form>
        </div>
      <% }); %>
    </div>
  <% } %>

</body>
</html>
