<%
// title: "Edit Course" or "Create Course" (set in controller)
// courseId: only provided if editing
// courseName: course name string
%>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><%= title %></title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8 font-sans">
  <div class="max-w-xl mx-auto bg-white p-6 rounded shadow">
    <h1 class="text-2xl font-bold mb-4"><%= title %></h1>

    <%- include('../General/notifications', { messages: messages }) %>

    <% let actionUrl; %>
    <% if (title === 'Edit Course') { %>
      <% actionUrl = `/courses/${courseId}` + (redirectTo ? `?redirectTo=${redirectTo}` : '') %>
    <% } else { %>
      <% actionUrl = '/courses' %>
    <% } %>

    <form 
      action="<%= actionUrl %>"
      method="POST" 
      class="space-y-4"
    >
      <div>
        <label for="coursename" class="block">Course Name</label>
        <input 
          type="text" 
          id="coursename" 
          name="coursename" 
          value="<%= typeof courseName !== 'undefined' ? courseName : '' %>"
          required 
          class="w-full border px-4 py-2 rounded" 
        />
      </div>

      <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700">
        <%= title %>
      </button>
    </form>

    <!-- Go Back Button -->
    <div class="mt-6">
      <button onclick="window.history.back()" class="bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700">
        Go Back
      </button>
    </div>
  </div>
</body>
</html>
